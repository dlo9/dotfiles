variables:
  CUTTLEFISH_SSH_PORT: 32085
  CUTTLEFISH_SSH_URL: ssh.sigpanic.com

  DRYWELL_SSH_PORT: 57332
  DRYWELL_SSH_URL: drywell.sigpanic.com

aliases:
  - alias: drywell
    program: ssh

    keywords:
      - keys: [--local]
        values: [192.168.1.200]
      - keys: [--remote]
        values: [-p, $DRYWELL_SSH_PORT, $DRYWELL_SSH_URL]

  - alias: cuttlefish
    program: ssh

    arguments:
      - key: -i
        value: ~/.ssh/archbook.id_rsa
        cleared-by: [-i]

    keywords:
      - keys: [--local]
        values: [192.168.1.230]
      - keys: [--remote]
        values: [-p, $CUTTLEFISH_SSH_PORT, $CUTTLEFISH_SSH_URL]

  # System yadm
  # Clone via: syadm clone -w / <repo>
  - alias: syadm
    program: sudo

    arguments:
      - key: /etc/yadm/data
      - key: --yadm-data
      - key: /etc/yadm/config
      - key: --yadm-dir
      - key: yadm
      - key: GIT_SSH_COMMAND=ssh -i $HOME/.ssh/id_rsa
      - key: HOME=$HOME

  - alias: theme
    program: sh

    arguments:
      - key: -c

    keywords:
      - keys: [--iterate]
        values: ['flavours list | xargs -I {} -d " " sh -c "echo {}; flavours apply {}; sleep 1"']
