#!/bin/sh

set -e

if which yay > /dev/null; then
	PACKAGES=(
		alacritty
		fish
		starship
		tmux
		nerd-fonts-dejavu-complete
		deno
	)

	yay -S --noconfirm --needed "${PACKAGES[@]}"
fi

# Because Git submodule commands cannot operate without a work tree, they must
# be run from within $HOME (assuming this is the root of your dotfiles)
cd "$HOME"

echo "Init submodules"
yadm submodule update --init

# Install tmux plugins
# TODO Use a makefile for this?
.tmux/plugins/tpm/bin/install_plugins

# Update fish plugins
fish -c "fisher update"
